function addSupportedByPosit() {
    const header = document.querySelector('nav.navbar');
    const navbarContainer = document.querySelector('.navbar-container.container-fluid');

    if (header && navbarContainer) {

  
        header.style.paddingRight = '0px';
        navbarContainer.style.paddingRight = '0px';

        console.log(header)
        const headerHeight = header.offsetHeight;

        const styles = `
        #supported-by-posit {
            width: 100px;
            height: calc(${headerHeight}px + 20px);
            display: block;

            margin-top: -100px;
            margin-bottom: -100px;
            margin-left: 20px;

            order: 9999;

            background-color: #333333;
            border-radius: 0 0 0 10px;
            // box-shadow: 3px 3px 3px rgba(0, 0, 0, 0.3);

            will-change: transform;
            transition: transform 0.25s ease-in-out;
            transform: translateY(0);
        }

        .headroom--unpinned #supported-by-posit {
            transform: translateY(-15px);
        }
        
        body.quarto-dark #supported-by-posit {
            background-color: #333333;
        }

        #supported-by-posit:hover {
            background-color: #666666 !important;
        }
        `

        const styleElement = document.createElement('style');
        styleElement.textContent = styles;
        document.head.appendChild(styleElement);
        
        const supportedByPositElement = document.createElement('a');
        supportedByPositElement.setAttribute('aria-label', 'Supported by Posit');
        supportedByPositElement.href = 'https://posit.co';
        supportedByPositElement.id = 'supported-by-posit';
        supportedByPositElement.target = '_blank';
        supportedByPositElement.title = 'Supported by Posit';
        supportedByPositElement.classList.add('d-none', 'd-lg-block');

        const svgTemplate = document.createElement('template');
        svgTemplate.innerHTML = `<?xml version="1.0" encoding="UTF-8"?>
          <svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 676.69 310.87">
            <defs><style>#supported-by-posit {fill:var(--bs-navbar-color)} #supported-by-posit:hover {fill:var(--bs-navbar-hover-color)} </style></defs>
            <g id="supported-by-posit">
              <rect x="0" y="0" width="100%" height="100%" fill="transparent" />
              <path d="M375.07,174.26c30.96,0,52.79,21.08,52.79,50.36s-21.82,50.18-52.79,50.18-52.42-21.08-52.42-50.18,21.45-50.36,52.42-50.36M375.07,249.62c14.74,0,24.81-9.33,24.81-25s-11.19-25.18-24.81-25.18-24.44,9.14-24.44,25.18c0,14.18,9.89,25,24.44,25"/>
              <path d="M546.84,134.6c8.77,0,15.11,6.28,15.11,14.57,0,8.71-6.34,14.98-15.11,14.98-9.51,0-15.3-6.27-15.3-14.98s6.34-14.57,15.3-14.57M533.22,176.09h27.05v97h-27.05v-97Z"/>
              <path d="M572.48,176.09h18.47v-22.57h27.05v22.57h29.23v25.18h-29.23v31.52c0,11.75,2.61,16.23,9.89,16.23,6.34,0,11.38-2.24,16.6-6.34l13.78,17.08c-6.72,7.09-19.75,14.44-32.99,14.44-20.33,0-34.32-11.01-34.32-33.39v-39.55h-18.47v-25.18h-.01Z"/>
              <path d="M519.22,187.95c-6.63-6.36-20.38-14.58-39.91-14.58-27.81,0-44.17,11.5-44.17,30.36,0,29.27,46.62,29.98,57.63,36.44,1.99,1.11,3.17,2.66,2.46,4.91-2.07,6.49-28.2,9.66-47.47-8.97l-15.72,18.74c7,9.27,22.44,20.15,47.49,20.15,23.27,0,43.39-9.43,43.39-30.92,0-19.27-17.95-27.02-33.91-31.56-4.54-1.25-8.93-2.28-12.73-3.3-6.29-1.61-14.72-3.42-13.37-8.12,2.45-8.54,30.5-3.19,40.31,5.79l16.03-18.93h-.03Z"/>
              <path d="M217.34,176.32h27.09v5.05c5.04-4.67,14.2-7.1,21.68-7.1,29.52,0,47.84,20.37,47.84,49.15s-19.06,51.57-48.59,51.57c-9.34,0-17.94-1.49-20.93-4.86v40.74h-27.09v-134.55h0ZM244.43,210.51v31.02c2.99,4.48,9.53,8.22,17.19,8.22,15.14,0,24.29-9.53,24.29-24.29,0-17.19-8.59-25.97-22.8-25.97-8.97,0-15.13,4.48-18.68,11.02"/>
              <polygon id="fullLogo-8" points="35.42 205.07 43.43 201.5 79.65 185.36 87.55 181.84 175.05 142.83 175.05 189.88 139.67 205.07 131.67 201.5 168.66 185.61 168.66 152.74 95.45 185.36 87.55 188.89 51.48 204.96 43.48 208.53 17.96 219.9 17.96 228.34 43.09 239.55 51.09 243.12 88.11 259.61 95.97 263.11 168.66 295.51 168.66 262.29 132.06 246.58 140.07 243.01 175.05 258.03 175.05 305.41 88.14 266.67 80.29 263.17 43.04 246.58 35.03 243.01 11.56 232.54 11.56 215.71 35.42 205.07"/>
              <polygon points="95.7 223.95 131.62 208.53 123.61 204.96 79.38 223.95 124 243.12 132 239.55 95.7 223.95"/>
              <polygon id="fullLogo-9" points="43.09 239.55 51.09 243.12 87.55 227.46 79.39 223.95 43.09 239.55"/>
              <polygon id="fullLogo-10" points="51.48 204.96 43.48 208.53 79.39 223.95 87.55 220.45 51.48 204.96"/>
              <polygon id="fullLogo-11" points="139.67 205.07 131.67 201.5 95.45 185.36 87.55 181.84 .05 142.83 .05 189.88 35.42 205.07 43.43 201.5 6.44 185.61 6.44 152.74 79.65 185.36 87.55 188.89 123.62 204.96 131.62 208.53 157.14 219.9 157.14 228.34 132.01 239.55 124.01 243.12 86.99 259.61 79.13 263.11 6.44 295.51 6.44 262.29 43.04 246.58 35.03 243.01 .05 258.03 .05 305.41 86.96 266.67 94.81 263.17 132.06 246.58 140.07 243.01 163.54 232.54 163.54 215.71 139.67 205.07"/>
              <path d="M676.69,184.46c0,4.85-3.81,8.65-8.76,8.65s-8.81-3.81-8.81-8.65,3.91-8.55,8.81-8.55,8.76,3.81,8.76,8.55ZM661.31,184.46c0,3.81,2.81,6.83,6.67,6.83s6.52-3.02,6.52-6.78-2.76-6.88-6.57-6.88-6.62,3.08-6.62,6.83ZM666.58,188.94h-1.98v-8.55c.78-.16,1.88-.26,3.28-.26,1.62,0,2.35.26,2.97.63.47.36.83,1.04.83,1.88,0,.94-.73,1.67-1.77,1.98v.1c.83.31,1.3.94,1.56,2.08.26,1.3.42,1.82.63,2.14h-2.14c-.26-.31-.42-1.09-.68-2.08-.16-.94-.68-1.36-1.77-1.36h-.94v3.44h.01ZM666.63,184.09h.94c1.09,0,1.98-.36,1.98-1.25,0-.78-.57-1.3-1.82-1.3-.52,0-.89.05-1.09.1v2.45h0Z"/>
              <path d="M40.41,66.18c0,5.37-1.98,9.51-5.93,12.43-3.95,2.91-9.5,4.37-16.64,4.37-7.56,0-13.45-1.21-17.68-3.63v-8.11c2.74,1.4,5.68,2.51,8.82,3.32,3.14.81,6.16,1.21,9.08,1.21,4.51,0,7.97-.73,10.4-2.19,2.43-1.46,3.64-3.68,3.64-6.66,0-2.25-.96-4.17-2.89-5.77-1.92-1.6-5.68-3.48-11.26-5.66-5.31-2-9.08-3.75-11.31-5.24-2.24-1.49-3.9-3.19-4.99-5.08s-1.64-4.16-1.64-6.79c0-4.7,1.89-8.42,5.67-11.14,3.78-2.72,8.96-4.08,15.55-4.08,6.14,0,12.14,1.26,18,3.79l-3.07,7.11c-5.72-2.39-10.91-3.58-15.55-3.58-4.09,0-7.18.65-9.26,1.95-2.08,1.3-3.12,3.09-3.12,5.37,0,1.54.39,2.86,1.17,3.95.78,1.09,2.04,2.12,3.77,3.11,1.73.98,5.06,2.4,9.99,4.26,6.76,2.49,11.33,5,13.71,7.53,2.37,2.53,3.56,5.7,3.56,9.53Z"/>
              <path d="M62.57,24.22v37.44c0,4.7,1.06,8.21,3.17,10.53,2.11,2.32,5.43,3.48,9.93,3.48,5.96,0,10.32-1.65,13.08-4.95,2.76-3.3,4.14-8.69,4.14-16.16v-30.33h8.63v57.71h-7.13l-1.25-7.74h-.47c-1.77,2.84-4.22,5.02-7.36,6.53-3.14,1.51-6.72,2.26-10.74,2.26-6.94,0-12.13-1.67-15.58-5-3.45-3.33-5.18-8.67-5.18-16.01V24.22h8.74Z"/>
              <path d="M146.36,82.98c-3.71,0-7.1-.69-10.17-2.08-3.07-1.39-5.64-3.52-7.72-6.4h-.62c.42,3.37.62,6.56.62,9.58v23.75h-8.63V24.22h7.02l1.2,7.9h.42c2.22-3.16,4.8-5.44,7.75-6.84,2.95-1.4,6.33-2.11,10.14-2.11,7.56,0,13.39,2.62,17.5,7.84,4.11,5.23,6.16,12.57,6.16,22.01s-2.09,16.84-6.27,22.09c-4.18,5.25-9.98,7.87-17.4,7.87ZM145.11,30.59c-5.83,0-10.04,1.63-12.64,4.9-2.6,3.26-3.94,8.46-4,15.58v1.95c0,8.11,1.33,13.91,4,17.4,2.67,3.49,6.95,5.24,12.85,5.24,4.92,0,8.78-2.02,11.57-6.05,2.79-4.04,4.19-9.6,4.19-16.69s-1.4-12.72-4.19-16.56c-2.79-3.84-6.72-5.77-11.78-5.77Z"/>
              <path d="M211.63,82.98c-3.71,0-7.1-.69-10.17-2.08-3.07-1.39-5.64-3.52-7.72-6.4h-.62c.42,3.37.62,6.56.62,9.58v23.75h-8.63V24.22h7.02l1.2,7.9h.42c2.22-3.16,4.8-5.44,7.75-6.84,2.95-1.4,6.33-2.11,10.14-2.11,7.56,0,13.39,2.62,17.5,7.84,4.11,5.23,6.16,12.57,6.16,22.01s-2.09,16.84-6.27,22.09c-4.18,5.25-9.98,7.87-17.4,7.87ZM210.38,30.59c-5.83,0-10.04,1.63-12.64,4.9-2.6,3.26-3.94,8.46-4,15.58v1.95c0,8.11,1.33,13.91,4,17.4,2.67,3.49,6.95,5.24,12.85,5.24,4.92,0,8.78-2.02,11.57-6.05,2.79-4.04,4.19-9.6,4.19-16.69s-1.4-12.72-4.19-16.56c-2.79-3.84-6.72-5.77-11.78-5.77Z"/>
              <path d="M299.58,53.02c0,9.41-2.34,16.75-7.02,22.03-4.68,5.28-11.15,7.92-19.4,7.92-5.1,0-9.62-1.21-13.57-3.63-3.95-2.42-7-5.9-9.15-10.42-2.15-4.53-3.22-9.83-3.22-15.9,0-9.41,2.32-16.73,6.97-21.98,4.65-5.25,11.1-7.87,19.35-7.87s14.31,2.69,19.01,8.06c4.7,5.37,7.05,12.64,7.05,21.8ZM256.15,53.02c0,7.37,1.46,12.99,4.37,16.85,2.91,3.86,7.19,5.79,12.85,5.79s9.94-1.92,12.87-5.77c2.93-3.84,4.4-9.47,4.4-16.88s-1.47-12.91-4.4-16.72c-2.93-3.81-7.26-5.71-12.98-5.71s-9.92,1.88-12.79,5.63c-2.88,3.76-4.32,9.35-4.32,16.8Z"/>
              <path d="M340.72,23.17c2.53,0,4.8.21,6.81.63l-1.2,8.11c-2.36-.53-4.44-.79-6.24-.79-4.61,0-8.56,1.9-11.83,5.69-3.28,3.79-4.92,8.51-4.92,14.16v30.96h-8.63V24.22h7.13l.99,10.69h.42c2.11-3.76,4.66-6.65,7.65-8.69,2.98-2.04,6.26-3.05,9.83-3.05Z"/>
              <path d="M376.61,75.77c1.53,0,3-.11,4.42-.34,1.42-.23,2.55-.46,3.38-.71v6.69c-.94.46-2.31.83-4.13,1.13-1.82.3-3.46.45-4.92.45-11.03,0-16.54-5.88-16.54-17.64V31.01h-8.17v-4.21l8.17-3.63,3.64-12.32h4.99v13.37h16.54v6.79h-16.54v33.96c0,3.48.81,6.14,2.44,8,1.63,1.86,3.87,2.79,6.71,2.79Z"/>
              <path d="M419.89,82.98c-8.43,0-15.08-2.6-19.95-7.79-4.87-5.19-7.31-12.41-7.31-21.64s2.26-16.69,6.79-22.17c4.53-5.48,10.6-8.21,18.23-8.21,7.14,0,12.79,2.38,16.96,7.13,4.16,4.76,6.24,11.03,6.24,18.82v5.53h-39.27c.17,6.77,1.86,11.92,5.07,15.43,3.21,3.51,7.72,5.27,13.55,5.27,6.14,0,12.21-1.3,18.2-3.9v7.79c-3.05,1.33-5.94,2.29-8.66,2.87-2.72.58-6.01.87-9.86.87ZM417.55,30.49c-4.58,0-8.23,1.51-10.95,4.53-2.72,3.02-4.33,7.2-4.81,12.53h29.8c0-5.51-1.21-9.73-3.64-12.66-2.43-2.93-5.9-4.4-10.4-4.4Z"/>
              <path d="M494.37,74.19h-.47c-3.99,5.86-9.95,8.79-17.89,8.79-7.46,0-13.25-2.58-17.4-7.74-4.14-5.16-6.21-12.5-6.21-22.01s2.08-16.9,6.24-22.17,9.95-7.9,17.37-7.9,13.66,2.84,17.79,8.53h.68l-.36-4.16-.21-4.05V0h8.63v81.93h-7.02l-1.14-7.74ZM477.1,75.66c5.89,0,10.17-1.62,12.82-4.87,2.65-3.25,3.98-8.49,3.98-15.72v-1.84c0-8.18-1.34-14.01-4.03-17.51-2.69-3.49-6.98-5.24-12.87-5.24-5.06,0-8.94,1.99-11.62,5.98-2.69,3.98-4.03,9.61-4.03,16.88s1.33,12.94,4,16.69c2.67,3.76,6.59,5.63,11.75,5.63Z"/>
              <path d="M575.03,23.27c7.49,0,13.31,2.59,17.45,7.77,4.14,5.18,6.22,12.5,6.22,21.98s-2.09,16.84-6.27,22.09c-4.18,5.25-9.98,7.87-17.4,7.87-3.71,0-7.1-.69-10.17-2.08-3.07-1.39-5.64-3.52-7.72-6.4h-.62l-1.82,7.42h-6.19V0h8.63v19.9c0,4.46-.14,8.46-.42,12h.42c4.02-5.76,9.99-8.64,17.89-8.64ZM573.79,30.59c-5.9,0-10.14,1.71-12.74,5.13s-3.9,9.19-3.9,17.3,1.33,13.91,4,17.4c2.67,3.49,6.95,5.24,12.85,5.24,5.3,0,9.26-1.96,11.86-5.87,2.6-3.91,3.9-9.54,3.9-16.88s-1.3-13.11-3.9-16.8-6.62-5.53-12.07-5.53Z"/>
              <path d="M604.73,24.22h9.26l12.48,32.91c2.74,7.51,4.44,12.94,5.1,16.27h.42c.45-1.79,1.4-4.85,2.83-9.19,1.44-4.33,6.15-17.66,14.12-39.99h9.26l-24.5,65.71c-2.43,6.49-5.26,11.1-8.5,13.82-3.24,2.72-7.22,4.08-11.94,4.08-2.64,0-5.24-.3-7.8-.9v-7c1.91.42,4.04.63,6.4.63,5.93,0,10.16-3.37,12.69-10.11l3.17-8.21-22.99-58.02Z"/>
            </g>
          </svg>`;

        const svgElement = svgTemplate.content.querySelector('svg');
        svgElement.setAttribute('aria-hidden', 'true');
        svgElement.setAttribute('role', 'presentation');
        svgElement.style.height = '30px';
        svgElement.style.width = 'auto';
        svgElement.style.margin = 'auto';
        
        supportedByPositElement.appendChild(svgElement);

        navbarContainer.appendChild(supportedByPositElement);
    } else {
        console.error('Could not find required elements');
    }
}

document.addEventListener('DOMContentLoaded', addSupportedByPosit);
